@using System.Xml;
@{
    // *********Khởi động Dữ liệu nguồn/nội bộ ********
    var Dich_vu = XL_DICH_VU.Khoi_dong_Dich_vu();

    //*********Khai báo Biến/Đối tượng :Nhận & Kết quả *********
    var Ma_so_Xu_ly = Request["Ma_so_Xu_ly"]; // Biến Nhận
    var Bo_doc = new StreamReader(Request.InputStream);
    var Chuoi_Nhan = Bo_doc.ReadToEnd(); // Nhận Đối tượng
    var Chuoi_XML_Ket_qua = ""; // Biến Kêt quả
    //*********Xử lý Nhập liệu Nếu có + Tạo Kết quả Nếu Hợp lệ  *********
    if (Ma_so_Xu_ly == "KHOI_DONG_DU_LIEU_KHACH_THAM_QUAN")
    {
        var Du_lieu_Kq = Dich_vu.Tao_Du_lieu_cua_Ung_dung_Khach_Tham_quan();
        Chuoi_XML_Ket_qua = Du_lieu_Kq.OuterXml;
    }
    else if (Ma_so_Xu_ly == "KHOI_DONG_DU_LIEU_NHAN_VIEN_NHAP_HANG")
    {
        var Du_lieu_Kq = Dich_vu.Tao_Du_lieu_cua_Ung_dung_Nhan_vien_Nhap_hang();
        Chuoi_XML_Ket_qua = Du_lieu_Kq.OuterXml;
    }
    else if (Ma_so_Xu_ly == "KHOI_DONG_DU_LIEU_NHAN_VIEN_BAN_HANG")
    {
        var Du_lieu_Kq = Dich_vu.Tao_Du_lieu_cua_Ung_dung_Nhan_vien_Ban_hang();
        Chuoi_XML_Ket_qua = Du_lieu_Kq.OuterXml;
    }
    else if (Ma_so_Xu_ly == "KHOI_DONG_DU_LIEU_NHAN_VIEN_GIAO_HANG")
    {
        var Du_lieu_Kq = Dich_vu.Tao_Du_lieu_cua_Ung_dung_Nhan_vien_Giao_hang();
        Chuoi_XML_Ket_qua = Du_lieu_Kq.OuterXml;
    }
    else if (Ma_so_Xu_ly == "KHOI_DONG_DU_LIEU_QUAN_LY_NHAP_HANG")
    {
        var Du_lieu_Kq = Dich_vu.Tao_Du_lieu_cua_Ung_dung_Quan_ly_Nhap_hang();
        Chuoi_XML_Ket_qua = Du_lieu_Kq.OuterXml;
    }
    else if (Ma_so_Xu_ly == "KHOI_DONG_DU_LIEU_QUAN_LY_BAN_HANG")
    {
        var Du_lieu_Kq = Dich_vu.Tao_Du_lieu_cua_Ung_dung_Quan_ly_Ban_hang();
        Chuoi_XML_Ket_qua = Du_lieu_Kq.OuterXml;
    }
    else if (Ma_so_Xu_ly == "KHOI_DONG_DU_LIEU_QUAN_LY_GIAO_HANG")
    {
        var Du_lieu_Kq = Dich_vu.Tao_Du_lieu_cua_Ung_dung_Quan_ly_Giao_hang();
        Chuoi_XML_Ket_qua = Du_lieu_Kq.OuterXml;
    }
    else if (Ma_so_Xu_ly == "KHOI_DONG_DU_LIEU_QUAN_LY_CUA_HANG")
    {
        var Du_lieu_Kq = Dich_vu.Tao_Du_lieu_cua_Ung_dung_Quan_ly_Cua_hang();
        Chuoi_XML_Ket_qua = Du_lieu_Kq.OuterXml;
    }
    else if (Ma_so_Xu_ly == "GHI_NHAP_HANG_MOI")
    {
        var Ma_so_San_pham = Request["Ma_so_San_pham"];

        Chuoi_XML_Ket_qua = Dich_vu.Ghi_Nhap_hang_Moi(Ma_so_San_pham, Chuoi_Nhan);

    }
    else if (Ma_so_Xu_ly == "GHI_GIAO_HANG")
    {
        var Ma_so_Phieu_dat = Request["Ma_so_Phieu_dat"];
        Chuoi_XML_Ket_qua = Dich_vu.Ghi_Giao_hang(Ma_so_Phieu_dat);
    }
    else if (Ma_so_Xu_ly == "GHI_PHAN_CONG")
    {
        var Ma_so_Phieu_dat = Request["Ma_so_Phieu_dat"];
        var Ma_so_Nhan_vien_Giao_hang = Request["Ma_so_Nhan_vien_Giao_hang"];
        Chuoi_XML_Ket_qua = Dich_vu.Ghi_Phan_cong(Ma_so_Phieu_dat, Ma_so_Nhan_vien_Giao_hang);

    }
        else if (Ma_so_Xu_ly == "GHI_DAT_HANG_MOI")
    {
        var Ma_so_Phieu_dat = Request["Ma_so_Phieu_dat"];

        Chuoi_XML_Ket_qua = Dich_vu.Ghi_Phieu_Dat_moi(Ma_so_Phieu_dat, Chuoi_Nhan);

    }
    else if (Ma_so_Xu_ly == "GHI_BAN_HANG_MOI")
    {
        var Ma_so_San_pham = Request["Ma_so_San_pham"];

        Chuoi_XML_Ket_qua = Dich_vu.Ghi_Ban_hang_Moi(Ma_so_San_pham, Chuoi_Nhan);

    }
    else if (Ma_so_Xu_ly == "CAP_NHAT_DON_GIA_BAN")
    {
        var Ma_so_San_pham = Request["Ma_so_San_pham"];
        Chuoi_XML_Ket_qua = Dich_vu.Cap_nhat_Don_gia_Ban(Ma_so_San_pham, Chuoi_Nhan);
    }

    // Xử lý trả Kết quả
    Response.Write(Chuoi_XML_Ket_qua);
}


